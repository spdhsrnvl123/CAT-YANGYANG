<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Dongle&family=Noto+Sans+KR:wght@400;900&family=Single+Day&display=swap" rel="stylesheet">
    <title>React_background_Photo</title>
</head>
<style>
    body{
        font-family: "Noto Sans KR", sans-serif;
        text-align: center;
        background: linear-gradient(45deg, rgba(0,0,0,0.6),rgba(0,0,0,0.8)),url("images/background.jpg");
        height: 100vh;
        /* overflow: hidden; */
        color: white;
    }
    #title{
        font-size: 40px;
    }
    #sub_title{
        font-size: 30px;
    }
    .main-card-border{
        position: relative;
        /* background-color: red; */
    }
    .main-card-border .prev{
        position: absolute;
        border-radius: 50%;
        font-size :22px;
        font-weight: bold;
        width: 50px;
        height: 50px;
        top: 45%;
        left:35%;
        background: powderblue;
        border: 1px powderblue solid;
        box-shadow: inset 0 1px 0 powderblue;
        cursor: pointer;
    }
    .main-card-border .next{
        position : absolute;
        border-radius: 50%;
        font-size :22px;
        font-weight: bold;
        width: 50px;
        height: 50px;
        top:45%;
        right:35%;
        background: powderblue;
        border: 1px powderblue solid;
        box-shadow: inset 0 1px 0 powderblue;
        cursor: pointer;
    }

    .main-card-border .prev span:hover{
        padding-right: 10px;
        font-size: 25px;
    }

    .main-card-border .next span:hover{
        padding-left : 10px;
        font-size: 25px;
    }

    .main-card{
        position: relative;
        border:7px solid white;
        position: relative;
        display: inline-block;
    }
    .main-card img{
        display: block;
        width: 300px;
        height: 400px;
    }
    .main-card button{
        position: absolute;
        bottom:15px;
        right:10px;
        font-size: 30px;
        color:red;
        border: 1px solid transparent;
        cursor: pointer;
        border-radius: 50%;
        width: 50px;
        height: 50px;
    }
    .list{
        list-style: none;
        display: flex;
        flex: wrap;
        gap: 15px;
        justify-content: center;
    }
</style>
<body>
    <div id ="app"></div>
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <!-- React 사용시 필수 -->
    <script type="text/babel">
        const MainCard = ({img,handleheartClick})=>{
            return(
            <div className ="main-card-border">
                <button className="prev"><span>&lang;</span></button>
                <div className = "main-card">
                    <img
                        src = {img}
                        alt = "first"
                    />
                    <button onClick={handleheartClick}>♥</button>
                </div>
                <button className="next"><span>&rang;</span></button>
            </div>
            )
        }

        const Input = ({updateCounter}) => {
            const [value, setValue] = React.useState("");
            const includesHangul = (text) => /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/i.test(text);
            const [errorMessage, setErrorMessage] = React.useState('');

            function handleInputChange(e){
                const userValue = e.target.value;
                setErrorMessage("")
                if(includesHangul(userValue)){
                  setErrorMessage("한글은 입력할 수 없습니다.");
                }
                setValue(userValue.toUpperCase());
            }

            function handleFormSubmit(e){
                e.preventDefault();
                setErrorMessage("")
                if(value === ''){
                    setErrorMessage("빈 값으로 만들 수 없습니다.")
                    return;
                }
                updateCounter();
            }

            return(
                <form onSubmit ={handleFormSubmit}>
                <input
                    type = "text"
                    placeholder ="Please enter it in English."
                    value = {value}
                    onChange = {handleInputChange}
                />
                <button style = {{marginLeft:"10px"}}>Create</button>
                <p>{errorMessage}</p>
                </form>
            )
        }


        const Item = (props)=>{
            return(
                <li>
                    <img src={props.img} style = {{width:'150px'}} />
                </li>
            )
        }
        const List =({list})=>{
            console.log(list)
            return(
                <ul className="list">
                    {
                        list.map((background)=>(
                            <Item img={background} key={background} />
                        ))
                    }
                </ul>
            )
        }

        const App = () => {
            const photo = ["images/1.jpg","images/2.jpg","images/3.jpg","images/4.jpg"]
            const [counter,setCounter] = React.useState(1)
            const [list,list_set] = React.useState([photo[0],photo[1],photo[2]]);

            function updateCounter(e){
                
                setCounter(counter+1);
            }

            function handleheartClick(){
                list_set([...list,photo[3]]);
                console.log(1)
            }

            return(
                <div>
                    <h1 id = "title"> Background slide {counter}</h1>
                    <MainCard img={photo[0]} handleheartClick={handleheartClick} />
                    <Input updateCounter={updateCounter} />
                    <h1 id = "sub_title">background wish list</h1>
                    <List list={list} />
                </div>
            )
        }
        const app = document.querySelector("#app");
        ReactDOM.render(<App />,app);
    </script>
</body>
</html>